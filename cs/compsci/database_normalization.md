# Нормализација релационих база података

**Релационе БП**

- енгл. *Relational Database*
- Тип БП код које се организација података заснива на релационом моделу
- Британски информатичар, Едгар Ф. Код (енгл. *Edgar F. Codd*)

**Нормализација РБП**

- енгл. *normalization*
- Метод за осигуравање да је структура БП погодна за упите општег типа и да не испољава нежељене карактеристике (аномалије уношења, ажурирања и брисања) које би могле да доведу до губитка интегритета података
- Намерно смањење нормализације - денормализација
	- Најчешће се врши због перформанси

**Прва нормална форма**

- енгл. *First normal form, 1NF*
- Шема релације је у 1NF ако су све вредности њених атрибута скаларне

**1NF - лоше**

ИД        | Име       | Презиме    | Телефон
:---------|:----------|:-----------|:----------------
1         | Петар     | Петровић   | 111-111, 222-222
2         | Ђорђе     | Ђорђевић   | 333-333

**1NF - лоше**

ИД        | Име       | Презиме    | Телефон #1   | Телефон #2
:---------|:----------|:-----------|:-------------|:-------------
1         | Петар     | Петровић   | 111-111      | 222-222
2         | Ђорђе     | Ђорђевић   | 333-333      |

**1NF - добро**

ИД        | Име       | Презиме
:---------|:----------|:----------
1         | Петар     | Петровић
2         | Ђорђе     | Ђорђевић

ИД        | Особа   | Телефон
:---------|:--------|:---------
1         | 1       | 111-111
2         | 1       | 222-222
3         | 2       | 333-333

Табеле Особа и Телефон су везане у 1:N односу.

Поље Особа у табели Телефон представља страни кључ који садржи референцу на ред из табеле Особа.

**Друга нормална форма**

- енгл. *Second normal form, 2NF*
- Предуслов: 1NF
- Шема релације је у 2NF ако њен сваки некључни атрибут потпуно зависи од примарног кључа

**2NF - лоше**

ИД        | Семестар   | Број места   | Назив курса
:---------|:-----------|:-------------|:-------------
IT 101    | 2018-2     | 150          | Програмирање
IT 101    | 2019-1     | 150          | Програмирање
IT 102    | 2018-2     | 100          | Базе података
IT 102    | 2019-1     | 100          | Базе података
IT 103    | 2018-1     | 75           | Веб-дизајн

Поља "ИД" и "Семестар" представљају сложени кључ (енгл. *composite key*).

**Проблем:** Вредност "Назив курса" зависи од вредности "ИД", али не и од вредности "Семестар".

**2NF - добро**

ИД        | Семестар  | Број места
:---------|:----------|:------------
IT 101    | 2018-2    | 150
IT 101    | 2019-1    | 150
IT 102    | 2018-2    | 100
IT 102    | 2019-1    | 100
IT 103    | 2018-1    | 75

ИД        | Назив курса
:---------|:-------------
IT 101    | Програмирање
IT 102    | Базе података
IT 103    | Веб-дизајн

Редуданса је уклоњена.

**Трећа нормална форма**

- енгл. *Third normal form, 3NF*
- Предуслов: 2NF
- Шема релације је у 3NF ако њен сваки некључни атрибут зависи од кључа и не служи ничему другом осим кључа
- Јача верзија 3NF - Бојс-Кодова нормална форма (енгл. *Boyce–Codd normal form, BCNF*)

**3NF - лоше**

ИД        | Семестар  | Број места  | Професор ИД  | Професор
:---------|:----------|:------------|:-------------|:-----------------
IT 101    | 2018-2    | 150        | 1             | Петар Петровић
IT 101    | 2019-1    | 150        | 1             | Петар Петровић
IT 102    | 2018-2    | 100        | 2             | Ђорђе Ђорђевић
IT 102    | 2019-1    | 100        | 2             | Ђорђе Ђорђевић
IT 103    | 2018-1    | 75         | 3             | Анђела Анђелковић

**Проблем:** Вредност "Професор ИД" зависи од вредности "ИД", вредност "Професор" зависи од вредности "Професор ИД", али вредност "Професор" не зависи од вредности "ИД".

**3NF - добро**

ИД        | Семестар  | Број места  | Професор
:---------|:----------|:------------|:----------
IT 101    | 2018-2    | 150         | 1
IT 101    | 2019-1    | 150         | 1
IT 102    | 2018-2    | 100         | 2
IT 102    | 2019-1    | 100         | 2
IT 103    | 2018-1    | 75          | 3

ИД           | Професор
:------------|:-----------------
1            | Петар Петровић
1            | Петар Петровић
2            | Ђорђе Ђорђевић
2            | Ђорђе Ђорђевић
3            | Анђела Анђелковић
